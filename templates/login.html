<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Login - Rural Edu Platform</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap');

  body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
    font-family: 'Fredoka One', 'Comic Sans MS', cursive, Arial, sans-serif;
    background: radial-gradient(circle at 70% 20%, #60eaff 20%, #5ea0ff 90%);
    background-size: cover;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
  }

  .login-card {
    width: 340px;
    background: linear-gradient(180deg, #eaf7ff 60%, #b2e0ff 100%);
    border-radius: 38px;
    box-shadow: 0 10px 30px rgba(70,140,255,0.13);
    padding: 32px 24px 24px 24px;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .robot-img {
    width: 110px;
    height: 110px;
    object-fit: contain;
    margin-bottom: 20px;
    display: block;
    background: #fff;
    border-radius: 50%;
    box-shadow: 0 4px 16px rgba(80,110,255,0.10);
    border: 6px solid #e3f2ff;
    align-self: center;
  }

  h1 {
    font-size: 2rem;
    color: #187eff;
    margin-bottom: 25px;
    margin-top: 0;
    letter-spacing: 1px;
    font-family: 'Fredoka One', cursive;
    text-shadow: 0 2px 5px #def6ff;
  }

  .input-box {
    display: flex;
    align-items: center;
    width: 100%;
    margin-bottom: 20px;
    background: #fff;
    border-radius: 20px;
    padding: 0 18px;
    box-shadow: 0 2px 8px rgba(100,160,255,0.08);
    border: 2px solid #d6ecff;
  }
  .input-box input {
    flex: 1;
    border: none;
    background: transparent;
    font-size: 1.08rem;
    padding: 16px 0;
    font-family: inherit;
    outline: none;
    color: #2255a3;
  }
  .input-box input:focus {
    color: #187eff;
  }
  .input-box .input-icon {
    font-size: 1.3rem;
    color: #b1b9c3;
    margin-left: 10px;
  }

  .role-selection {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
    gap: 10px;
  }
  .role-button {
    flex: 1;
    padding: 12px 0;
    border-radius: 25px;
    border: 2px solid #5ea0ff;
    background-color: white;
    color: #187eff;
    font-weight: 700;
    font-family: 'Fredoka One', cursive;
    cursor: pointer;
    text-align: center;
    user-select: none;
    transition: background-color 0.3s, color 0.3s;
  }
  .role-button.selected, .role-button:hover {
    background-color: #5ea0ff;
    color: white;
  }

  button[type="submit"] {
    width: 100%;
    background: linear-gradient(90deg, #42a1ff 70%, #5fc7ff 100%);
    color: #fff;
    border: none;
    border-radius: 22px;
    font-family: inherit;
    font-size: 1.25rem;
    padding: 16px 0;
    margin-top: 10px;
    cursor: pointer;
    font-weight: bold;
    box-shadow: 0 4px 12px rgba(67, 174, 255, 0.11);
    letter-spacing: 1px;
    transition: background 0.19s, transform 0.18s;
  }
  button[type="submit"]:hover {
    background: linear-gradient(90deg, #2361ff 70%, #36b0ff 100%);
    transform: translateY(-2px) scale(1.025);
  }

  .flash-message {
    color: #ff3337;
    background: #f9eaea;
    border-radius: 12px;
    padding: 10px;
    margin-bottom: 12px;
    font-size: 1.01rem;
    box-shadow: 0 2px 6px #fde3e4;
    width: 100%;
    text-align: center;
  }

  @media (max-width: 500px) {
    .login-card { width: 96vw; padding: 20px 5vw 24px 5vw;}
    body {padding: 0;}
  }
</style>
<!-- Include FontAwesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const buttons = document.querySelectorAll('.role-button');
    const roleInput = document.getElementById('roleInput');

    buttons.forEach(button => {
      button.addEventListener('click', () => {
        buttons.forEach(btn => btn.classList.remove('selected'));
        button.classList.add('selected');
        roleInput.value = button.dataset.role;
      });
    });

    // Set default selection on page load
    const defaultRole = roleInput.value || 'student';
    buttons.forEach(btn => {
      if(btn.dataset.role === defaultRole){
        btn.classList.add('selected');
      }
    });
  });
</script>
</head>
<body>
  <div class="login-card" role="main" aria-labelledby="login-heading">
    <img src="{{ url_for('static', filename='robot.png') }}" alt="Friendly robot" class="robot-img" />
    <h1 id="login-heading">Welcome</h1>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash-message" role="alert">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    <form method="POST" novalidate>
      <div class="input-box">
        <input type="text" name="username" placeholder="Username" required autocomplete="username" aria-label="Username input" />
        <span class="input-icon"><i class="fa-regular fa-user"></i></span>
      </div>

      <div class="input-box">
        <input type="password" name="password" placeholder="Password" required autocomplete="current-password" aria-label="Password input" />
        <span class="input-icon"><i class="fa-solid fa-lock"></i></span>
      </div>

      <div class="role-selection" role="radiogroup" aria-label="User Role selection">
        <div class="role-button" tabindex="0" role="radio" aria-checked="true" data-role="student">Student</div>
        <div class="role-button" tabindex="0" role="radio" aria-checked="false" data-role="teacher">Teacher</div>
      </div>
      <input type="hidden" name="role" id="roleInput" value="student" />

      <button type="submit">Login</button>
    </form>
  </div>
</body>
</html>
